<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session b1a57cb3-dce4-491a-b2df-7c6470e54eeb (2026-01-04 10:04Z) -->

# Redesigned battle system feedback and documentation (2026-01-04 10:04Z)

_**User (2026-01-04 10:04Z)**_

Take a look at the redesigned battle system. How does it look? Are there any errors you notice? 

Write a full Ukrainian documentation on it under the `/docs` directory ("mechanics" subfolder?).

---

_**Agent (model default, mode Agent)**_



---


Reviewing the redesigned battle system and drafting Ukrainian documentation. Exploring the codebase to understand its structure.


---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** ‚Ä¢ Searched codebase "battle system combat mechanics" ‚Ä¢ **12** results</summary>
            
| File | Lines |
|------|-------|
| `services/turn_battle.py` | L239-349 |
| `services/turn_battle.py` | L219-326 |
| `services/battle_engine.py` | L253-489 |
| `services/battle_engine.py` | L267-489 |
| `services/battle_engine.py` | L96 |
| `services/turn_battle.py` | L48 |
| `handlers/turn_battle_handler.py` | L145-218 |
| `services/turn_battle.py` | L136-239 |
| `services/turn_battle.py` | L113-217 |
| `services/turn_battle.py` | L197-326 |
| `handlers/battles.py` | L264-444 |
| `services/turn_battle.py` | L50-111 |

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/battle*.ts" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **\mnt\ssd1\repos\pomyyka-the-game** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/battle*.tsx" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **\mnt\ssd1\repos\pomyyka-the-game** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/combat*.ts" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **\mnt\ssd1\repos\pomyyka-the-game** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/combat*.tsx" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **\mnt\ssd1\repos\pomyyka-the-game** (0 file)

</details>
</tool-use>

---



---


Reading the main battle system files to understand the redesigned system:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "BattleState|BattlePhase" in "/mnt/ssd1/repos/pomyyka-the-game" ‚Ä¢ 30 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `/mnt/ssd1/repos/pomyyka-the-game/tests/test_turn_battle.py` | `BattleState, PlayerState, CardState, BattlePhase,` | L6 |
| `/mnt/ssd1/repos/pomyyka-the-game/tests/test_turn_battle.py` | `return BattleState(` | L43 |
| `/mnt/ssd1/repos/pomyyka-the-game/tests/test_turn_battle.py` | `assert state.phase == BattlePhase.INITIATIVE` | L54 |
| `/mnt/ssd1/repos/pomyyka-the-game/tests/test_turn_battle.py` | `assert state.phase == BattlePhase.ACTION` | L59 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `BattleState, BattlePhase,` | L9 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `def render_battle_ui(state: BattleState, user_id: int) -> tuple[str, InlineKeyboardMarkup]:` | L29 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `is_my_turn = (state.active_player_idx == (1 if is_p1 else 2)) and (state.phase == BattlePhase.ACTION)` | L37 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `if state.phase == BattlePhase.FINISHED:` | L74 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `if state.phase == BattlePhase.FINISHED:` | L80 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `if state.phase == BattlePhase.FINISHED:` | L209 |
| `/mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py` | `async def show_switch_menu(callback: CallbackQuery, state: BattleState, user_id: int):` | L222 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py` | `Save the complete BattleState (Pydantic model).` | L646 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py` | `state: BattleState instance (from services.turn_battle).` | L649 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py` | `Retrieve BattleState.` | L674 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py` | `BattleState instance or None.` | L677 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py` | `from services.turn_battle import BattleState # Import here to avoid circular dependency top-level` | L679 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py` | `return BattleState.model_validate_json(data)` | L688 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `class BattlePhase(str, Enum):` | L21 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `class BattleState(BaseModel):` | L74 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `phase: BattlePhase = BattlePhase.INITIATIVE` | L79 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `) -> BattleState:` | L142 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `return BattleState(` | L191 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `def resolve_initiative(state: BattleState):` | L198 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `state.phase = BattlePhase.ACTION` | L218 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `def next_turn(state: BattleState):` | L220 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `state.phase = BattlePhase.ACTION` | L240 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `def execute_attack(state: BattleState, attack_idx: int):` | L242 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `state.phase = BattlePhase.FINISHED` | L316 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `def switch_active_card(state: BattleState, deck_index: int):` | L329 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `def resolve_status_effects(state: BattleState):` | L352 |


</details>
</tool-use>

---



---


Checking tests and related files for issues:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/tests/test_turn_battle.py</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "is_hit" in "/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py" ‚Ä¢ 2 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `is_hit = (hit_roll >= card_def.ac) or is_crit` | L277 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `if is_hit:` | L281 |


</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** ‚Ä¢ Searched codebase "how is turn battle system initialized and started" ‚Ä¢ **13** results</summary>
            
| File | Lines |
|------|-------|
| `handlers/battles.py` | L311-444 |
| `services/turn_battle.py` | L113-217 |
| `services/turn_battle.py` | L50-111 |
| `services/turn_battle.py` | L197-326 |
| `services/turn_battle.py` | L48 |
| `handlers/turn_battle_handler.py` | L143 |
| `handlers/turn_battle_handler.py` | L145-218 |
| `services/turn_battle.py` | L136-239 |
| `handlers/battles.py` | L264-444 |
| `services/battle_engine.py` | L253-489 |
| `main.py` | L30-155 |
| `services/session_manager.py` | L15-695 |
| `services/turn_battle.py` | L26-98 |

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/services/session_manager.py</summary>

</details>
</tool-use>

---



---


Checking the docs structure and scanning for other issues:


---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** ‚Ä¢ Read lints for 2 files</summary>
      
Lint paths:

- `services/turn_battle.py`
- `handlers/turn_battle_handler.py`

Lint results


**No lint errors found**
</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "resistance" in "/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py" ‚Ä¢ 2 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `resistance: Optional[Dict] = None` | L49 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `resistance=template.resistance` | L174 |


</details>
</tool-use>

---



---


Creating Ukrainian documentation for the battle system. Summarizing findings:


---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [-] Review battle system code and identify errors
- [ ] Create Ukrainian documentation in docs/mechanics directory
- [ ] Document all mechanics, phases, and features

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py</summary>

</details>
</tool-use>

---



---


Creating Ukrainian documentation. Documenting the issues found:


---

<tool-use data-tool-type="write" data-tool-name="write">

<details><summary>Tool use: **write** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 396, lines removed: 1

```diff
@@ -1,1 +1,396 @@
- 
+ # –°–∏—Å—Ç–µ–º–∞ –ë–æ—é - –ü–æ–≤–Ω–∞ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
+ 
+ ## –û–≥–ª—è–¥
+ 
+ –°–∏—Å—Ç–µ–º–∞ –±–æ—é –≤ Pomyyka - —Ü–µ –ø–æ–∫—Ä–æ–∫–æ–≤–∞ –±–æ–π–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞, —è–∫–∞ –ø–æ—î–¥–Ω—É—î –º–µ—Ö–∞–Ω—ñ–∫–∏ –∑ —Ä—ñ–∑–Ω–∏—Ö –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —ñ–≥–æ—Ä:
+ 
+ - **D&amp;D (Dungeons &amp; Dragons)**: –∫–∏–¥–∫–∏ d20, –∫–ª–∞—Å –±—Ä–æ–Ω—ñ (AC), —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞
+ - **Hearthstone**: —Å–∏—Å—Ç–µ–º–∞ –µ–Ω–µ—Ä–≥—ñ—ó/–º–∞–Ω–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –∑–±—ñ–ª—å—à–µ–Ω–Ω—è–º –∫–æ–∂–µ–Ω —Ö—ñ–¥
+ - **Pokemon**: –∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞ —Ç–∞ —Ä–µ–∑–µ—Ä–≤ (bench), —Ç–∏–ø–∏ –∞—Ç–∞–∫ —Ç–∞ —Å–ª–∞–±–∫–æ—Å—Ç—ñ
+ 
+ ## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º–∏
+ 
+ ### –û—Å–Ω–æ–≤–Ω—ñ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
+ 
+ #### 1. BattleState (–°—Ç–∞–Ω –ë–æ—é)
+ –ü–æ–≤–Ω–∏–π —Å—Ç–∞–Ω –±–æ–π–æ–≤–æ—ó —Å–µ—Å—ñ—ó, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Redis.
+ 
+ **–ü–æ–ª—è:**
+ - &#96;session_id&#96;: –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å–µ—Å—ñ—ó
+ - &#96;chat_id&#96;: ID —á–∞—Ç—É, –¥–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –±—ñ–π
+ - &#96;message_id&#96;: ID –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –±–æ—é
+ - &#96;phase&#96;: –ü–æ—Ç–æ—á–Ω–∞ —Ñ–∞–∑–∞ –±–æ—é (INITIATIVE, ACTION, END_TURN, FINISHED)
+ - &#96;player1&#96;, &#96;player2&#96;: –°—Ç–∞–Ω –æ–±–æ—Ö –≥—Ä–∞–≤—Ü—ñ–≤
+ - &#96;active_player_idx&#96;: –Ü–Ω–¥–µ–∫—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è (1 –∞–±–æ 2)
+ - &#96;turn_number&#96;: –ù–æ–º–µ—Ä —Ä–∞—É–Ω–¥—É (–∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è, –∫–æ–ª–∏ —Ö—ñ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –≥—Ä–∞–≤—Ü—è 1)
+ - &#96;info_logs&#96;: –û—Å—Ç–∞–Ω–Ω—ñ 5 –¥—ñ–π –±–æ—é (–ª–æ–≥)
+ 
+ #### 2. PlayerState (–°—Ç–∞–Ω –ì—Ä–∞–≤—Ü—è)
+ –°—Ç–∞–Ω –æ–∫—Ä–µ–º–æ–≥–æ –≥—Ä–∞–≤—Ü—è –ø—ñ–¥ —á–∞—Å –±–æ—é.
+ 
+ **–ü–æ–ª—è:**
+ - &#96;user_id&#96;: Telegram ID –≥—Ä–∞–≤—Ü—è
+ - &#96;name&#96;: –Ü–º'—è –≥—Ä–∞–≤—Ü—è
+ - &#96;current_energy&#96;: –ü–æ—Ç–æ—á–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è (–≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –Ω–∞ –¥—ñ—ó)
+ - &#96;max_energy&#96;: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è (–∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –∫–æ–∂–µ–Ω —Ö—ñ–¥, –º–∞–∫—Å–∏–º—É–º 10)
+ - &#96;deck&#96;: –°–ø–∏—Å–æ–∫ –∑ 3 –∫–∞—Ä—Ç–æ–∫ (CardState)
+ - &#96;active_card_index&#96;: –Ü–Ω–¥–µ–∫—Å –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏ –≤ –∫–æ–ª–æ–¥—ñ
+ 
+ **–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:**
+ - &#96;active_card&#96;: –ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ—á–Ω—É –∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç–∫—É
+ - &#96;alive_cards&#96;: –ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –∂–∏–≤–∏—Ö (–Ω–µ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∏—Ö) –∫–∞—Ä—Ç–æ–∫
+ 
+ #### 3. CardState (–°—Ç–∞–Ω –ö–∞—Ä—Ç–∫–∏)
+ –†–∞–Ω—Ç–∞–π–º-—Å—Ç–∞–Ω –∫–∞—Ä—Ç–∫–∏ –ø—ñ–¥ —á–∞—Å –±–æ—é.
+ 
+ **–ü–æ–ª—è:**
+ - &#96;id&#96;: UUID –∫–∞—Ä—Ç–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
+ - &#96;template_id&#96;: ID —à–∞–±–ª–æ–Ω—É –∫–∞—Ä—Ç–∫–∏
+ - &#96;name&#96;: –ù–∞–∑–≤–∞ –∫–∞—Ä—Ç–∫–∏
+ - &#96;rarity&#96;: –†—ñ–¥–∫—ñ—Å–Ω—ñ—Å—Ç—å
+ - &#96;biome&#96;: –ë—ñ–æ–º –∫–∞—Ä—Ç–∫–∏
+ - &#96;current_hp&#96;, &#96;max_hp&#96;: –ü–æ—Ç–æ—á–Ω–µ —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–¥–æ—Ä–æ–≤'—è
+ - &#96;ac&#96;: –ö–ª–∞—Å –±—Ä–æ–Ω—ñ (Armor Class) - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ø–∞–¥–∞–Ω–Ω—è
+ - &#96;initiative_bonus&#96;: –ë–æ–Ω—É—Å –¥–æ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ (–∑–∞—Ä–∞–∑ –∑–∞–≤–∂–¥–∏ 0)
+ - &#96;crit_chance&#96;: –®–∞–Ω—Å –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ —É–¥–∞—Ä—É (–±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ MEME —Å—Ç–∞—Ç—ñ)
+ - &#96;is_fainted&#96;: –ß–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞ –∫–∞—Ä—Ç–∫–∞
+ - &#96;status_effects&#96;: –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤
+ - &#96;attacks&#96;: –°–ø–∏—Å–æ–∫ –∞—Ç–∞–∫ (–∫–æ–ø—ñ—è –∑ —à–∞–±–ª–æ–Ω—É)
+ - &#96;weakness&#96;: –°–ª–∞–±–∫—ñ—Å—Ç—å –∫–∞—Ä—Ç–∫–∏ (—Ç–∏–ø –∞—Ç–∞–∫–∏, —â–æ –∑–∞–≤–¥–∞—î x2 —à–∫–æ–¥–∏)
+ - &#96;resistance&#96;: –û–ø—ñ—Ä –∫–∞—Ä—Ç–∫–∏ (–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞—Ä–∞–∑)
+ 
+ **–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –°—Ç–∞—Ç—ñ–≤:**
+ - **HP**: &#96;Def * 5 + 20&#96; (Def –≤–∏—Å—Ç—É–ø–∞—î —è–∫ Constitution)
+ - **AC**: &#96;10 + (Def // 2)&#96; (–±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –±—Ä–æ–Ω—ñ + –ø–æ–ª–æ–≤–∏–Ω–∞ –∑–∞—Ö–∏—Å—Ç—É)
+ 
+ ## –§–∞–∑–∏ –ë–æ—é
+ 
+ ### 1. INITIATIVE (–Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞)
+ –ü–æ—á–∞—Ç–∫–æ–≤–∞ —Ñ–∞–∑–∞, –∫–æ–ª–∏ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è, —Ö—Ç–æ —Ö–æ–¥–∏—Ç—å –ø–µ—Ä—à–∏–º.
+ 
+ **–ü—Ä–æ—Ü–µ—Å:**
+ 1. –ö–æ–∂–µ–Ω –≥—Ä–∞–≤–µ—Ü—å –∫–∏–¥–∞—î d20 + –±–æ–Ω—É—Å —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏
+ 2. –ì—Ä–∞–≤–µ—Ü—å –∑ –≤–∏—â–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ö–æ–¥–∏—Ç—å –ø–µ—Ä—à–∏–º
+ 3. –ü—Ä–∏ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–º–∞–≥–∞—î –≥—Ä–∞–≤–µ—Ü—å 1
+ 4. –§–∞–∑–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ ACTION
+ 
+ ### 2. ACTION (–î—ñ—è)
+ –ê–∫—Ç–∏–≤–Ω–∏–π –≥—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥—ñ—ó:
+ - –ê—Ç–∞–∫—É–≤–∞—Ç–∏ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –æ–¥–Ω—É –∑ –∞—Ç–∞–∫ –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏)
+ - –ó–º—ñ–Ω–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç–∫—É (–∫–æ—à—Ç—É—î 1 –µ–Ω–µ—Ä–≥—ñ—é)
+ - –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ö—ñ–¥
+ 
+ ### 3. END_TURN (–ö—ñ–Ω–µ—Ü—å –•–æ–¥—É)
+ –ü–µ—Ä–µ—Ö—ñ–¥–Ω–∞ —Ñ–∞–∑–∞ (–∑–∞—Ä–∞–∑ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–≤–Ω–æ).
+ 
+ ### 4. FINISHED (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
+ –ë—ñ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –û–¥–∏–Ω –∑ –≥—Ä–∞–≤—Ü—ñ–≤ –ø–µ—Ä–µ–º—ñ–≥ (–≤—Å—ñ –π–æ–≥–æ –∫–∞—Ä—Ç–∫–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∏).
+ 
+ ## –ú–µ—Ö–∞–Ω—ñ–∫–∏ –ë–æ—é
+ 
+ ### –°–∏—Å—Ç–µ–º–∞ –ï–Ω–µ—Ä–≥—ñ—ó
+ 
+ **Hearthstone-—Å—Ç–∏–ª—å:**
+ - –ö–æ–∂–µ–Ω –≥—Ä–∞–≤–µ—Ü—å –ø–æ—á–∏–Ω–∞—î –∑ 1 –µ–Ω–µ—Ä–≥—ñ—î—é
+ - –ö–æ–∂–µ–Ω —Ö—ñ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –Ω–∞ 1 (–¥–æ –º–∞–∫—Å–∏–º—É–º—É 10)
+ - –ï–Ω–µ—Ä–≥—ñ—è –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∫–æ–∂–Ω–æ–≥–æ —Ö–æ–¥—É
+ - –ê—Ç–∞–∫–∏ –∫–æ—à—Ç—É—é—Ç—å –µ–Ω–µ—Ä–≥—ñ—é (–∑–∞–∑–Ω–∞—á–µ–Ω–æ –≤ &#96;energy_cost&#96;)
+ 
+ **–ü—Ä–∏–∫–ª–∞–¥:**
+ - –†–∞—É–Ω–¥ 1: 1/1 –µ–Ω–µ—Ä–≥—ñ—è
+ - –†–∞—É–Ω–¥ 2: 2/2 –µ–Ω–µ—Ä–≥—ñ—è
+ - –†–∞—É–Ω–¥ 3: 3/3 –µ–Ω–µ—Ä–≥—ñ—è
+ - ...
+ - –†–∞—É–Ω–¥ 10+: 10/10 –µ–Ω–µ—Ä–≥—ñ—è
+ 
+ ### –°–∏—Å—Ç–µ–º–∞ –ê—Ç–∞–∫ (D&amp;D –ú–µ—Ö–∞–Ω—ñ–∫–∞)
+ 
+ #### –ö–∏–¥–∞–Ω–Ω—è –Ω–∞ –ü–æ–ø–∞–¥–∞–Ω–Ω—è
+ 1. –ì—Ä–∞–≤–µ—Ü—å –æ–±–∏—Ä–∞—î –∞—Ç–∞–∫—É
+ 2. –°–∏—Å—Ç–µ–º–∞ –∫–∏–¥–∞—î d20 (20-–≥—Ä–∞–Ω–Ω–∏–π –∫—É–±–∏–∫)
+ 3. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ä—ñ–≤–Ω—é—î—Ç—å—Å—è –∑ AC (Armor Class) –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
+ 4. –Ø–∫—â–æ &#96;d20 &gt;= AC&#96; –∞–±–æ &#96;d20 == 20&#96; (–∫—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä) ‚Üí –ø–æ–ø–∞–¥–∞–Ω–Ω—è
+ 
+ **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ó–∞—Ä–∞–∑ –Ω–µ–º–∞—î –±–æ–Ω—É—Å—É –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è –≤—ñ–¥ ATK —Å—Ç–∞—Ç—ñ (–∑–∞–∑–Ω–∞—á–µ–Ω–æ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö –∫–æ–¥—É —è–∫ –º–∞–π–±—É—Ç–Ω—î –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è).
+ 
+ #### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –®–∫–æ–¥–∏
+ 1. –ë–∞–∑–æ–≤–∞ —à–∫–æ–¥–∞ –±–µ—Ä–µ—Ç—å—Å—è –∑ –∞—Ç–∞–∫–∏ (&#96;damage&#96;)
+ 2. –Ø–∫—â–æ &#96;damage&#96; - —Ä—è–¥–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "2d6+3"), —Å–∏—Å—Ç–µ–º–∞ –∫–∏–¥–∞—î –∫—É–±–∏–∫–∏
+ 3. –Ø–∫—â–æ –∫—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä (d20 == 20), —à–∫–æ–¥–∞ –ø–æ–¥–≤–æ—é—î—Ç—å—Å—è
+ 4. –ó–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –º–Ω–æ–∂–Ω–∏–∫ —Å–ª–∞–±–∫–æ—Å—Ç—ñ (x2, —è–∫—â–æ —Ç–∏–ø –∞—Ç–∞–∫–∏ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑—ñ —Å–ª–∞–±–∫—ñ—Å—Ç—é)
+ 5. –§—ñ–Ω–∞–ª—å–Ω–∞ —à–∫–æ–¥–∞ –∑–∞–≤–¥–∞—î—Ç—å—Å—è –∫–∞—Ä—Ç—Ü—ñ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
+ 
+ **–§–æ—Ä–º—É–ª–∞:**
+ &#96;&#96;&#96;
+ –±–∞–∑–æ–≤–∞_—à–∫–æ–¥–∞ = roll_damage(attack.damage)
+ —è–∫—â–æ –∫—Ä–∏—Ç–∏—á–Ω–∏–π_—É–¥–∞—Ä:
+     –±–∞–∑–æ–≤–∞_—à–∫–æ–¥–∞ *= 2
+ —è–∫—â–æ —Å–ª–∞–±–∫—ñ—Å—Ç—å:
+     –±–∞–∑–æ–≤–∞_—à–∫–æ–¥–∞ *= 2
+ —Ñ—ñ–Ω–∞–ª—å–Ω–∞_—à–∫–æ–¥–∞ = –±–∞–∑–æ–≤–∞_—à–∫–æ–¥–∞
+ &#96;&#96;&#96;
+ 
+ **–ü—Ä–∏–∫–ª–∞–¥:**
+ - –ê—Ç–∞–∫–∞ "2d6" (2 –∫—É–±–∏–∫–∏ –ø–æ 6 –≥—Ä–∞–Ω–µ–π)
+ - –ö–∏–¥–∞—î—Ç—å—Å—è: 4 + 5 = 9
+ - –ö—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä: 9 * 2 = 18
+ - –°–ª–∞–±–∫—ñ—Å—Ç—å: 18 * 2 = 36
+ - –§—ñ–Ω–∞–ª—å–Ω–∞ —à–∫–æ–¥–∞: 36
+ 
+ ### –¢–∏–ø–∏ –ê—Ç–∞–∫ —Ç–∞ –°–ª–∞–±–∫–æ—Å—Ç—ñ
+ 
+ **–¢–∏–ø–∏ –∞—Ç–∞–∫:**
+ - PHYSICAL (—Ñ—ñ–∑–∏—á–Ω–∞)
+ - FIRE (–≤–æ–≥–æ–Ω—å)
+ - WATER (–≤–æ–¥–∞)
+ - GRASS (—Ç—Ä–∞–≤–∞)
+ - PSYCHIC (–ø—Å–∏—Ö–æ)
+ - TECHNO (—Ç–µ—Ö–Ω–æ)
+ - DARK (—Ç–µ–º—Ä—è–≤–∞)
+ - MEME (–º–µ–º)
+ 
+ **–°–ª–∞–±–∫–æ—Å—Ç—ñ:**
+ - –Ø–∫—â–æ —Ç–∏–ø –∞—Ç–∞–∫–∏ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑—ñ —Å–ª–∞–±–∫—ñ—Å—Ç—é –∫–∞—Ä—Ç–∫–∏, —à–∫–æ–¥–∞ –ø–æ–¥–≤–æ—é—î—Ç—å—Å—è
+ - –ü—Ä–∏–∫–ª–∞–¥: –∫–∞—Ä—Ç–∫–∞ –∑—ñ —Å–ª–∞–±–∫—ñ—Å—Ç—é –¥–æ FIRE –æ—Ç—Ä–∏–º–∞—î x2 —à–∫–æ–¥–∏ –≤—ñ–¥ –≤–æ–≥–Ω—è–Ω–∏—Ö –∞—Ç–∞–∫
+ 
+ **–û–ø—ñ—Ä (Resistance):**
+ - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ - –ü–ª–∞–Ω—É—î—Ç—å—Å—è —è–∫ –∑–º–µ–Ω—à–µ–Ω–Ω—è —à–∫–æ–¥–∏ –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫
+ 
+ ### –°—Ç–∞—Ç—É—Å–Ω—ñ –ï—Ñ–µ–∫—Ç–∏
+ 
+ –°—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É –≥—Ä–∞–≤—Ü—è (–ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è).
+ 
+ **–¢–∏–ø–∏ —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤:**
+ 
+ 1. **BURNED (–û–ø–µ—á–µ–Ω–∏–π)** üî•
+    - –ó–∞–≤–¥–∞—î 10 —à–∫–æ–¥–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É
+    - –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ –∫—ñ–Ω—Ü—è –±–æ—é (–ø–æ–∫–∏ –Ω–µ –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–æ)
+ 
+ 2. **POISONED (–û—Ç—Ä—É—î–Ω–∏–π)** ‚ò†Ô∏è
+    - –ó–∞–≤–¥–∞—î 10 —à–∫–æ–¥–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É
+    - –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ –∫—ñ–Ω—Ü—è –±–æ—é
+ 
+ 3. **FROZEN (–ó–∞–º–æ—Ä–æ–∂–µ–Ω–∏–π)** ‚ùÑÔ∏è
+    - –ü—Ä–æ–ø—É—Å–∫–∞—î —Ö—ñ–¥
+    - 20% —à–∞–Ω—Å —Ä–æ–∑—Ç–∞–Ω—É—Ç–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É
+    - –Ø–∫—â–æ —Ä–æ–∑—Ç–∞–Ω—É–≤, –µ—Ñ–µ–∫—Ç –∑–Ω–∏–∫–∞—î
+ 
+ 4. **PARALYZED (–ü–∞—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π)**
+    - 50% —à–∞–Ω—Å –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ö—ñ–¥
+    - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ 
+ 5. **CONFUSED (–ó–±–µ–Ω—Ç–µ–∂–µ–Ω–∏–π)**
+    - 30% —à–∞–Ω—Å –∑–∞–≤–¥–∞—Ç–∏ —à–∫–æ–¥–∏ —Å–æ–±—ñ
+    - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ 
+ 6. **ASLEEP (–°–ø–∏—Ç—å)**
+    - –ü—Ä–æ–ø—É—Å–∫–∞—î —Ö—ñ–¥
+    - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ 
+ **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ó–∞—Ä–∞–∑ —Ç—ñ–ª—å–∫–∏ BURNED, POISONED —Ç–∞ FROZEN —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤ &#96;resolve_status_effects()&#96;.
+ 
+ ### –ó–∞–º—ñ–Ω–∞ –ö–∞—Ä—Ç–æ–∫
+ 
+ –ì—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç–∫—É –Ω–∞ —ñ–Ω—à—É –∑—ñ —Å–≤–æ—î—ó –∫–æ–ª–æ–¥–∏.
+ 
+ **–í–∏–º–æ–≥–∏:**
+ - –ö–æ—à—Ç—É—î 1 –µ–Ω–µ—Ä–≥—ñ—é
+ - –¶—ñ–ª—å–æ–≤–∞ –∫–∞—Ä—Ç–∫–∞ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–æ—é
+ - –¶—ñ–ª—å–æ–≤–∞ –∫–∞—Ä—Ç–∫–∞ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤–∂–µ –∞–∫—Ç–∏–≤–Ω–æ—é
+ 
+ **–ü—Ä–æ—Ü–µ—Å:**
+ 1. –ì—Ä–∞–≤–µ—Ü—å –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É "–ó–∞–º—ñ–Ω–∞"
+ 2. –û–±–∏—Ä–∞—î –∫–∞—Ä—Ç–∫—É –∑ —Ä–µ–∑–µ—Ä–≤—É
+ 3. –ê–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è
+ 4. –ï–Ω–µ—Ä–≥—ñ—è –∑–º–µ–Ω—à—É—î—Ç—å—Å—è –Ω–∞ 1
+ 
+ ### –£–º–æ–≤–∏ –ü–µ—Ä–µ–º–æ–≥–∏
+ 
+ –ë—ñ–π –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è, –∫–æ–ª–∏:
+ - –£ –æ–¥–Ω–æ–≥–æ –∑ –≥—Ä–∞–≤—Ü—ñ–≤ –≤—Å—ñ –∫–∞—Ä—Ç–∫–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∏ (&#96;is_fainted = True&#96;)
+ - –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å - –≥—Ä–∞–≤–µ—Ü—å, —É —è–∫–æ–≥–æ –∑–∞–ª–∏—à–∏–ª–∞—Å—è —Ö–æ—á–∞ –± –æ–¥–Ω–∞ –∂–∏–≤–∞ –∫–∞—Ä—Ç–∫–∞
+ 
+ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–∞–º—ñ–Ω–∞:**
+ - –ö–æ–ª–∏ –∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—î –ø–µ—Ä—à—É –∂–∏–≤—É –∫–∞—Ä—Ç–∫—É –∑ –∫–æ–ª–æ–¥–∏
+ - –Ø–∫—â–æ –∂–∏–≤–∏—Ö –∫–∞—Ä—Ç–æ–∫ –Ω–µ–º–∞—î, –±—ñ–π –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è
+ 
+ ## –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
+ 
+ ### –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –°—Ç–∞–Ω—É
+ 
+ **–î–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è:**
+ - –°—Ç–∞–Ω –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ (—ñ–º'—è, –µ–Ω–µ—Ä–≥—ñ—è, –∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞, HP, —Å—Ç–∞—Ç—É—Å–∏, AC)
+ - –í–ª–∞—Å–Ω–∏–π —Å—Ç–∞–Ω (—ñ–º'—è, –µ–Ω–µ—Ä–≥—ñ—è, –∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞, HP, —Å—Ç–∞—Ç—É—Å–∏, AC)
+ - –õ–æ–≥ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 3 –¥—ñ–π
+ - –ö–Ω–æ–ø–∫–∏ –∞—Ç–∞–∫ (–∑ —ñ–Ω–¥–∏–∫–∞—Ü—ñ—î—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –∑–∞ –µ–Ω–µ—Ä–≥—ñ—î—é)
+ - –ö–Ω–æ–ø–∫–∞ –∑–∞–º—ñ–Ω–∏ –∫–∞—Ä—Ç–∫–∏
+ - –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ö–æ–¥—É
+ 
+ **–î–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è:**
+ - –¢–µ —Å–∞–º–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É
+ - –¢—ñ–ª—å–∫–∏ –∫–Ω–æ–ø–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É
+ 
+ ### –ö–Ω–æ–ø–∫–∏ –î—ñ–π
+ 
+ **–ê—Ç–∞–∫–∏:**
+ - –ö–æ–∂–Ω–∞ –∞—Ç–∞–∫–∞ –ø–æ–∫–∞–∑—É—î –Ω–∞–∑–≤—É —Ç–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –µ–Ω–µ—Ä–≥—ñ—ó
+ - ‚úÖ - –∞—Ç–∞–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –µ–Ω–µ—Ä–≥—ñ—ó)
+ - ‚ùå - –∞—Ç–∞–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –µ–Ω–µ—Ä–≥—ñ—ó)
+ 
+ **–Ü–Ω—à—ñ –¥—ñ—ó:**
+ - üîÑ –ó–∞–º—ñ–Ω–∞ (N) - –∑–∞–º—ñ–Ω–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç–∫—É (N = –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞—Ä—Ç–æ–∫ —É —Ä–µ–∑–µ—Ä–≤—ñ)
+ - ‚è≠Ô∏è –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ö—ñ–¥ - –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Ö—ñ–¥
+ - üîÑ –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å - –æ–Ω–æ–≤–∏—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è)
+ 
+ ## –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –î—ñ–π —É –ë–æ—é
+ 
+ ### –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
+ 1. –û–±–∏–¥–≤–∞ –≥—Ä–∞–≤—Ü—ñ –æ–±–∏—Ä–∞—é—Ç—å –ø–æ 3 –∫–∞—Ä—Ç–∫–∏
+ 2. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è &#96;BattleState&#96; –∑ –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
+ 3. –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è &#96;resolve_initiative()&#96; –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ —Ö–æ–¥—É
+ 4. –°—Ç–∞–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Redis
+ 5. –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—é
+ 
+ ### –•—ñ–¥ –ì—Ä–∞–≤—Ü—è
+ 1. **–ü–æ—á–∞—Ç–æ–∫ —Ö–æ–¥—É:**
+    - –ï–Ω–µ—Ä–≥—ñ—è –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –¥–æ –º–∞–∫—Å–∏–º—É–º—É
+    - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –Ω–∞ 1 (—è–∫—â–æ &lt; 10)
+    - –ó–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ (&#96;resolve_status_effects()&#96;)
+ 
+ 2. **–î—ñ—ó –≥—Ä–∞–≤—Ü—è:**
+    - –ì—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥—ñ—ó (–∞—Ç–∞–∫–∞, –∑–∞–º—ñ–Ω–∞, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ö–æ–¥—É)
+    - –ö–æ–∂–Ω–∞ –¥—ñ—è –æ–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
+ 
+ 3. **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ö–æ–¥—É:**
+    - –ì—Ä–∞–≤–µ—Ü—å –Ω–∞—Ç–∏—Å–∫–∞—î "–ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ö—ñ–¥"
+    - –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è &#96;next_turn()&#96;, —è–∫–∏–π –ø–µ—Ä–µ–º–∏–∫–∞—î –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è
+    - –°—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è
+ 
+ ### –ê—Ç–∞–∫–∞
+ 1. –ì—Ä–∞–≤–µ—Ü—å –æ–±–∏—Ä–∞—î –∞—Ç–∞–∫—É
+ 2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Å—Ç—å –µ–Ω–µ—Ä–≥—ñ—ó
+ 3. –ï–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è
+ 4. –ö–∏–¥–∞—î—Ç—å—Å—è d20 –Ω–∞ –ø–æ–ø–∞–¥–∞–Ω–Ω—è
+ 5. –Ø–∫—â–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è:
+    - –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è —à–∫–æ–¥–∞
+    - –ó–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –º–Ω–æ–∂–Ω–∏–∫–∏ (–∫—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä, —Å–ª–∞–±–∫—ñ—Å—Ç—å)
+    - –®–∫–æ–¥–∞ –∑–∞–≤–¥–∞—î—Ç—å—Å—è
+    - –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —á–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞ –∫–∞—Ä—Ç–∫–∞
+    - –Ø–∫—â–æ —Ç–∞–∫, –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —É–º–æ–≤–∞ –ø–µ—Ä–µ–º–æ–≥–∏ –∞–±–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–∞–º—ñ–Ω–∞
+ 6. –û–Ω–æ–≤–ª—é—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
+ 
+ ## –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –°—Ç–∞–Ω—É
+ 
+ –°—Ç–∞–Ω –±–æ—é –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Redis –∑ –∫–ª—é—á–µ–º &#96;turn_battle:{session_id}&#96;.
+ 
+ **–°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
+ - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Pydantic &#96;model_dump_json()&#96; –¥–ª—è —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
+ - TTL –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —á–∞—Å –∂–∏—Ç—Ç—è —Å–µ—Å—ñ—ó
+ 
+ **–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è:**
+ - –ü—Ä–∏ –∫–æ–∂–Ω—ñ–π –¥—ñ—ó —Å—Ç–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑ Redis
+ - –ü—ñ—Å–ª—è –∑–º—ñ–Ω —Å—Ç–∞–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞–∑–∞–¥
+ 
+ ## –í—ñ–¥–æ–º—ñ –ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –û–±–º–µ–∂–µ–Ω–Ω—è
+ 
+ ### 1. –ï–º–æ–¥–∑—ñ –≤ –õ–æ–≥–∞—Ö
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –£ —Ä—è–¥–∫–∞—Ö 324 —Ç–∞ 327 —Ñ–∞–π–ª—É &#96;turn_battle.py&#96; —î –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º –µ–º–æ–¥–∑—ñ (—Å–∏–º–≤–æ–ª &#96;&#96;).
+ 
+ **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:**
+ - –†—è–¥–æ–∫ 324: &#96;state.add_log(f" {defender.name} –≤–∏–ø—É—Å–∫–∞—î **{c.name}**!")&#96;
+ - –†—è–¥–æ–∫ 327: &#96;state.add_log(f"üí® {attacker.name} –∞—Ç–∞–∫—É—î: **{hit_roll}** (AC {card_def.ac}) -&gt; –ü—Ä–æ–º–∞—Ö!")&#96;
+ 
+ **–†—ñ—à–µ–Ω–Ω—è:** –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –µ–º–æ–¥–∑—ñ (–π–º–æ–≤—ñ—Ä–Ω–æ, &#96;üîÑ&#96; —Ç–∞ &#96;üí®&#96;).
+ 
+ ### 2. –û–ø—ñ—Ä (Resistance) –ù–µ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ &#96;resistance&#96; –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ &#96;CardState&#96;, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ &#96;execute_attack()&#96;.
+ 
+ **–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** –¢—ñ–ª—å–∫–∏ &#96;weakness&#96; –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –æ–ø–æ—Ä—É, —è–∫–∞ –∑–º–µ–Ω—à—É—î —à–∫–æ–¥—É –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫.
+ 
+ ### 3. –í—ñ–¥—Å—É—Ç–Ω—ñ–π –ë–æ–Ω—É—Å –¥–æ –ü–æ–ø–∞–¥–∞–Ω–Ω—è
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –£ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö –∫–æ–¥—É –∑–∞–∑–Ω–∞—á–µ–Ω–æ, —â–æ ATK –º–∞—î –¥–∞–≤–∞—Ç–∏ –±–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è, –∞–ª–µ –∑–∞—Ä–∞–∑ &#96;hit_roll = d20&#96; –±–µ–∑ –±–æ–Ω—É—Å—ñ–≤.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –±–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ ATK —Å—Ç–∞—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, &#96;ATK // 2&#96;).
+ 
+ ### 4. –ù–µ –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –°—Ç–∞–Ω –ê—Ç–∞–∫—É—é—á–æ—ó –ö–∞—Ä—Ç–∫–∏
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –£ &#96;execute_attack()&#96; –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —á–∏ –Ω–µ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞ –∞—Ç–∞–∫—É—é—á–∞ –∫–∞—Ä—Ç–∫–∞ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ—é.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É &#96;if card_atk.is_fainted: return&#96;.
+ 
+ ### 5. –ù–µ–ø–æ–≤–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ç–∞—Ç—É—Å–Ω–∏—Ö –ï—Ñ–µ–∫—Ç—ñ–≤
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –¢—ñ–ª—å–∫–∏ BURNED, POISONED —Ç–∞ FROZEN —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ. PARALYZED, CONFUSED —Ç–∞ ASLEEP –Ω–µ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –¥–ª—è –≤—Å—ñ—Ö —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤.
+ 
+ ### 6. –ü–æ—Ä—è–¥–æ–∫ –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –°—Ç–∞—Ç—É—Å–Ω–∏—Ö –ï—Ñ–µ–∫—Ç—ñ–≤
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –£ &#96;handle_battle_action()&#96; —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è &#96;next_turn()&#96;, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–æ–Ω–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è, –∞ –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —Ö—Ç–æ —â–æ–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏–≤ —Ö—ñ–¥.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥—ñ–∫—É, —â–æ–± —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞–ª–∏—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É –≥—Ä–∞–≤—Ü—è, –ø–µ—Ä–µ–¥ –π–æ–≥–æ –¥—ñ—è–º–∏.
+ 
+ ### 7. –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –Ω–∞ –ö–æ–∂–µ–Ω –†–∞—É–Ω–¥
+ **–ü—Ä–æ–±–ª–µ–º–∞:** –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –ø–æ—á–∞—Ç–∫—É –±–æ—é. –£ D&amp;D —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥ –¥–ª—è –±—ñ–ª—å—à–æ—ó –¥–∏–Ω–∞–º—ñ—á–Ω–æ—Å—Ç—ñ.
+ 
+ ## –ú–∞–π–±—É—Ç–Ω—ñ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è
+ 
+ 1. **–°–∏—Å—Ç–µ–º–∞ –û–ø–æ—Ä—É:** –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–º–µ–Ω—à–µ–Ω–Ω—è —à–∫–æ–¥–∏ –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫
+ 2. **–ë–æ–Ω—É—Å –¥–æ –ü–æ–ø–∞–¥–∞–Ω–Ω—è:** –î–æ–¥–∞—Ç–∏ –±–æ–Ω—É—Å –≤—ñ–¥ ATK —Å—Ç–∞—Ç—ñ
+ 3. **–ü–æ–≤–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ç–∞—Ç—É—Å—ñ–≤:** –î–æ–¥–∞—Ç–∏ –≤—Å—ñ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏
+ 4. **–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ê—Ç–∞–∫–∏:** –ê—Ç–∞–∫–∏, —â–æ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å AC (—Å—Ç–∞—Ç—É—Å–Ω—ñ –∞—Ç–∞–∫–∏)
+ 5. **–ë–æ–Ω—É—Å –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –±–æ–Ω—É—Å–∏ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –∑ –∫–∞—Ä—Ç–æ–∫
+ 6. **–ê–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ –ï—Ñ–µ–∫—Ç–∏:** –í—ñ–∑—É–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
+ 7. **–†–µ–∂–∏–º –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è:** –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞ –±–æ—î–º –¥–ª—è —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
+ 
+ ## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –î–µ—Ç–∞–ª—ñ
+ 
+ ### –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
+ - &#96;pydantic&#96;: –î–ª—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–∏—Ö —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
+ - &#96;aiogram&#96;: –î–ª—è Telegram —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
+ - &#96;redis&#96;: –î–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É
+ - &#96;database.enums&#96;: –î–ª—è —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫, –±—ñ–æ–º—ñ–≤, —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤
+ 
+ ### –§–∞–π–ª–∏ –°–∏—Å—Ç–µ–º–∏
+ - &#96;services/turn_battle.py&#96;: –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –±–æ—é
+ - &#96;handlers/turn_battle_handler.py&#96;: –û–±—Ä–æ–±–Ω–∏–∫–∏ Telegram —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
+ - &#96;services/session_manager.py&#96;: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Å—ñ—è–º–∏ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º —Å—Ç–∞–Ω—É
+ - &#96;tests/test_turn_battle.py&#96;: Unit —Ç–µ—Å—Ç–∏
+ 
+ ### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–∏—Ö
+ 
+ **BattleState (JSON):**
+ &#96;&#96;&#96;json
+ {
+   "session_id": "uuid",
+   "chat_id": 123,
+   "message_id": 456,
+   "phase": "action",
+   "player1": {
+     "user_id": 789,
+     "name": "–ì—Ä–∞–≤–µ—Ü—å 1",
+     "current_energy": 3,
+     "max_energy": 3,
+     "deck": [...],
+     "active_card_index": 0
+   },
+   "player2": {...},
+   "active_player_idx": 1,
+   "turn_number": 2,
+   "info_logs": [...]
+ }
+ &#96;&#96;&#96;
+ 
+ ## –í–∏—Å–Ω–æ–≤–æ–∫
+ 
+ –°–∏—Å—Ç–µ–º–∞ –±–æ—é Pomyyka - —Ü–µ —Å–∫–ª–∞–¥–Ω–∏–π —Ç–∞ —Ü—ñ–∫–∞–≤–∏–π –ø–æ—î–¥–Ω–∞–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∫ –∑ —Ä—ñ–∑–Ω–∏—Ö —ñ–≥–æ—Ä. –í–æ–Ω–∞ –Ω–∞–¥–∞—î –≥–ª–∏–±–∏–Ω—É —á–µ—Ä–µ–∑ D&amp;D-–º–µ—Ö–∞–Ω—ñ–∫–∏, —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω—ñ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –µ–Ω–µ—Ä–≥—ñ—ó —Ç–∞ –¥–∏–Ω–∞–º—ñ–∫—É —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∫–∞—Ä—Ç–æ–∫ Pokemon-—Å—Ç–∏–ª—é. 
+ 
+ –°–∏—Å—Ç–µ–º–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∞–∫—Ç–∏–≤–Ω—ñ–π —Ä–æ–∑—Ä–æ–±—Ü—ñ —Ç–∞ –º–∞—î –∫—ñ–ª—å–∫–∞ –æ–±–ª–∞—Å—Ç–µ–π –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è, –∞–ª–µ –≤–∂–µ –∑–∞–±–µ–∑–ø–µ—á—É—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–∞ —Ü—ñ–∫–∞–≤–∏–π —ñ–≥—Ä–æ–≤–∏–π –¥–æ—Å–≤—ñ–¥.
+ 
+ ---
+ 
+ *–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞: 2024*
+ *–í–µ—Ä—Å—ñ—è —Å–∏—Å—Ç–µ–º–∏: 1.0 (Turn-Based Battle System)*
+ 
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] Review battle system code and identify errors
- [x] Create Ukrainian documentation in docs/mechanics directory
- [x] Document all mechanics, phases, and features

</details>
</tool-use>

---



---


## –û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏

–°–∏—Å—Ç–µ–º–∞ –±–æ—é –ø–æ—î–¥–Ω—É—î –º–µ—Ö–∞–Ω—ñ–∫–∏ –∑ D&D (d20, AC, —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞), Hearthstone (–µ–Ω–µ—Ä–≥—ñ—è/–º–∞–Ω–∞) —Ç–∞ Pokemon (–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞ + —Ä–µ–∑–µ—Ä–≤). –ó–∞–≥–∞–ª–æ–º –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑—Ä–æ–∑—É–º—ñ–ª–∞ —Ç–∞ –¥–æ–±—Ä–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∞.

## –í–∏—è–≤–ª–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –ø—Ä–æ–±–ª–µ–º–∏

1. –ü—Ä–æ–±–ª–µ–º–∏ –∑ –µ–º–æ–¥–∑—ñ (—Ä—è–¥–∫–∏ 324, 327 –≤ `turn_battle.py`):
   - –°–∏–º–≤–æ–ª `` –∑–∞–º—ñ—Å—Ç—å –µ–º–æ–¥–∑—ñ
   - –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ `üîÑ` —Ç–∞ `üí®`

2. –û–ø—ñ—Ä (Resistance) –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:
   - –ü–æ–ª–µ `resistance` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ `execute_attack()`
   - –¢—ñ–ª—å–∫–∏ `weakness` –ø—Ä–∞—Ü—é—î

3. –í—ñ–¥—Å—É—Ç–Ω—ñ–π –±–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è:
   - –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –±–æ–Ω—É—Å –≤—ñ–¥ ATK, –∞–ª–µ `hit_roll = d20` –±–µ–∑ –±–æ–Ω—É—Å—ñ–≤

4. –ù–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —Å—Ç–∞–Ω –∞—Ç–∞–∫—É—é—á–æ—ó –∫–∞—Ä—Ç–∫–∏:
   - –ú–æ–∂–Ω–∞ –∞—Ç–∞–∫—É–≤–∞—Ç–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–æ—é –∫–∞—Ä—Ç–∫–æ—é

5. –ù–µ–ø–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤:
   - –¢—ñ–ª—å–∫–∏ BURNED, POISONED, FROZEN –ø—Ä–∞—Ü—é—é—Ç—å
   - PARALYZED, CONFUSED, ASLEEP –Ω–µ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è

6. –ü–æ—Ä—è–¥–æ–∫ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤:
   - –ó–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è `next_turn()`, —Ç–æ–±—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è, –∞ –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —Ö—Ç–æ –∑–∞–≤–µ—Ä—à–∏–≤ —Ö—ñ–¥

## –°—Ç–≤–æ—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–°—Ç–≤–æ—Ä–µ–Ω–æ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –≤ `/docs/mechanics/battle-system.md`, —è–∫–∞ –≤–∫–ª—é—á–∞—î:

- –ü–æ–≤–Ω–∏–π –æ–ø–∏—Å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ (BattleState, PlayerState, CardState)
- –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –≤—Å—ñ—Ö —Ñ–∞–∑ –±–æ—é
- –ú–µ—Ö–∞–Ω—ñ–∫–∏ (–µ–Ω–µ—Ä–≥—ñ—è, –∞—Ç–∞–∫–∏, —Å—Ç–∞—Ç—É—Å–∏, –∑–∞–º—ñ–Ω–∞ –∫–∞—Ä—Ç–æ–∫)
- –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥—ñ–π —É –±–æ—é
- –û–ø–∏—Å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –°–ø–∏—Å–æ–∫ –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏
- –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –º–æ–∂–µ —Å–ª—É–∂–∏—Ç–∏ –¥–æ–≤—ñ–¥–Ω–∏–∫–æ–º –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫—ñ–≤.

---

_**User (2026-01-04 10:04Z)**_

Check again, should be fixed

---

_**Agent (model default, mode Agent)**_



---


–ü–µ—Ä–µ–≤—ñ—Ä—è—é –∫–æ–¥ —Å–∏—Å—Ç–µ–º–∏ –±–æ—é –Ω–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/handlers/turn_battle_handler.py</summary>

</details>
</tool-use>

---



---


–ü–µ—Ä–µ–≤—ñ—Ä—è—é –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ç–∞ –æ–Ω–æ–≤–ª—é—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é:


---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "self_dmg|attacker\.current_energy" in "/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py" ‚Ä¢ 8 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `if attacker.current_energy < cost:` | L259 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `state.add_log(f"‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –µ–Ω–µ—Ä–≥—ñ—ó! –¢—Ä–µ–±–∞ \{cost\}, —î \{attacker.current_energy\}.")` | L260 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `self_dmg = 5` | L270 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `card_atk.current_hp -= self_dmg` | L271 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `attacker.current_energy -= cost # Consume energy on fail?` | L272 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `state.add_log(f"üåÄ \{card_atk.name\} –∑–±–µ–Ω—Ç–µ–∂–µ–Ω–∏–π —ñ –≤–¥–∞—Ä–∏–≤ —Å–µ–±–µ! (-\{self_dmg\} HP)")` | L273 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `attacker.current_energy -= cost` | L282 |
| `/mnt/ssd1/repos/pomyyka-the-game/services/turn_battle.py` | `attacker.current_energy -= cost` | L287 |


</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** ‚Ä¢ Read lints for 1 file</summary>
      
Lint paths:

- `services/turn_battle.py`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---


–û–Ω–æ–≤–ª—é—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 4, lines removed: 3

```diff
@@ -109,8 +109,9 @@
  1. –ì—Ä–∞–≤–µ—Ü—å –æ–±–∏—Ä–∞—î –∞—Ç–∞–∫—É
  2. –°–∏—Å—Ç–µ–º–∞ –∫–∏–¥–∞—î d20 (20-–≥—Ä–∞–Ω–Ω–∏–π –∫—É–±–∏–∫)
- 3. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ä—ñ–≤–Ω—é—î—Ç—å—Å—è –∑ AC (Armor Class) –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
- 4. –Ø–∫—â–æ &#96;d20 &gt;= AC&#96; –∞–±–æ &#96;d20 == 20&#96; (–∫—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä) ‚Üí –ø–æ–ø–∞–¥–∞–Ω–Ω—è
+ 3. –î–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥–æ–¥–∞—î—Ç—å—Å—è –±–∞–∑–æ–≤–∏–π –±–æ–Ω—É—Å (+2)
+ 4. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ä—ñ–≤–Ω—é—î—Ç—å—Å—è –∑ AC (Armor Class) –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
+ 5. –Ø–∫—â–æ &#96;(d20 + 2) &gt;= AC&#96; –∞–±–æ &#96;d20 == 20&#96; (–∫—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä) ‚Üí –ø–æ–ø–∞–¥–∞–Ω–Ω—è
  
- **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ó–∞—Ä–∞–∑ –Ω–µ–º–∞—î –±–æ–Ω—É—Å—É –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è –≤—ñ–¥ ATK —Å—Ç–∞—Ç—ñ (–∑–∞–∑–Ω–∞—á–µ–Ω–æ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö –∫–æ–¥—É —è–∫ –º–∞–π–±—É—Ç–Ω—î –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è).
+ **–§–æ—Ä–º—É–ª–∞:** &#96;hit_roll = d20 + 2&#96; (–±–∞–∑–æ–≤–∏–π –±–æ–Ω—É—Å –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ)
  
  #### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –®–∫–æ–¥–∏
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 4, lines removed: 2

```diff
@@ -156,6 +156,8 @@
  
  **–û–ø—ñ—Ä (Resistance):**
- - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
- - –ü–ª–∞–Ω—É—î—Ç—å—Å—è —è–∫ –∑–º–µ–Ω—à–µ–Ω–Ω—è —à–∫–æ–¥–∏ –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫
+ - –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:
+   1. **–ü–ª–æ—Å–∫–µ –∑–º–µ–Ω—à–µ–Ω–Ω—è:** –Ø–∫—â–æ &#96;resistance.reduction &gt; 0&#96;, —à–∫–æ–¥–∞ –∑–º–µ–Ω—à—É—î—Ç—å—Å—è –Ω–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω—É –≤–µ–ª–∏—á–∏–Ω—É
+   2. **–ú–Ω–æ–∂–Ω–∏–∫:** –Ø–∫—â–æ &#96;reduction&#96; –Ω–µ –≤–∫–∞–∑–∞–Ω–æ –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é—î 0, —à–∫–æ–¥–∞ –º–Ω–æ–∂–∏—Ç—å—Å—è –Ω–∞ 0.5 (x0.5)
+ - –ü—Ä–∏–∫–ª–∞–¥: –∫–∞—Ä—Ç–∫–∞ –∑ –æ–ø–æ—Ä–æ–º –¥–æ FIRE –∑ &#96;reduction: 5&#96; –æ—Ç—Ä–∏–º–∞—î –Ω–∞ 5 –º–µ–Ω—à–µ —à–∫–æ–¥–∏ –≤—ñ–¥ –≤–æ–≥–Ω—è–Ω–∏—Ö –∞—Ç–∞–∫
  
  ### –°—Ç–∞—Ç—É—Å–Ω—ñ –ï—Ñ–µ–∫—Ç–∏
```

</details>

</tool-use>

---

The string to replace was not found in the file.

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 10, lines removed: 4

```diff
@@ -274,13 +274,19 @@
  1. –ì—Ä–∞–≤–µ—Ü—å –æ–±–∏—Ä–∞—î –∞—Ç–∞–∫—É
  2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Å—Ç—å –µ–Ω–µ—Ä–≥—ñ—ó
- 3. –ï–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è
- 4. –ö–∏–¥–∞—î—Ç—å—Å—è d20 –Ω–∞ –ø–æ–ø–∞–¥–∞–Ω–Ω—è
- 5. –Ø–∫—â–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è:
+ 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —á–∏ –Ω–µ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞ –∞—Ç–∞–∫—É—é—á–∞ –∫–∞—Ä—Ç–∫–∞
+ 4. –ü–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏:
+    - **CONFUSED:** 33% —à–∞–Ω—Å –∑–∞–≤–¥–∞—Ç–∏ —Å–æ–±—ñ 5 —à–∫–æ–¥–∏ (–µ–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è, –∞—Ç–∞–∫–∞ —Å–∫–∞—Å–æ–≤—É—î—Ç—å—Å—è)
+    - **PARALYZED:** 25% —à–∞–Ω—Å, —â–æ –∞—Ç–∞–∫–∞ –Ω–µ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è (–µ–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è)
+ 5. –Ø–∫—â–æ –∞—Ç–∞–∫–∞ –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è:
+    - –ï–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è
+    - –ö–∏–¥–∞—î—Ç—å—Å—è d20 + 2 –Ω–∞ –ø–æ–ø–∞–¥–∞–Ω–Ω—è
+ 6. –Ø–∫—â–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è:
     - –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è —à–∫–æ–¥–∞
     - –ó–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –º–Ω–æ–∂–Ω–∏–∫–∏ (–∫—Ä–∏—Ç–∏—á–Ω–∏–π —É–¥–∞—Ä, —Å–ª–∞–±–∫—ñ—Å—Ç—å)
+    - –ó–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –æ–ø—ñ—Ä (–∑–º–µ–Ω—à–µ–Ω–Ω—è –∞–±–æ –º–Ω–æ–∂–Ω–∏–∫ x0.5)
     - –®–∫–æ–¥–∞ –∑–∞–≤–¥–∞—î—Ç—å—Å—è
     - –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —á–∏ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞ –∫–∞—Ä—Ç–∫–∞
     - –Ø–∫—â–æ —Ç–∞–∫, –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —É–º–æ–≤–∞ –ø–µ—Ä–µ–º–æ–≥–∏ –∞–±–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–∞–º—ñ–Ω–∞
- 6. –û–Ω–æ–≤–ª—é—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
+ 7. –û–Ω–æ–≤–ª—é—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  
  ## –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –°—Ç–∞–Ω—É
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 33, lines removed: 31

```diff
@@ -304,44 +304,46 @@
  ## –í—ñ–¥–æ–º—ñ –ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –û–±–º–µ–∂–µ–Ω–Ω—è
  
- ### 1. –ï–º–æ–¥–∑—ñ –≤ –õ–æ–≥–∞—Ö
- **–ü—Ä–æ–±–ª–µ–º–∞:** –£ —Ä—è–¥–∫–∞—Ö 324 —Ç–∞ 327 —Ñ–∞–π–ª—É &#96;turn_battle.py&#96; —î –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º –µ–º–æ–¥–∑—ñ (—Å–∏–º–≤–æ–ª &#96;&#96;).
- 
- **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:**
- - –†—è–¥–æ–∫ 324: &#96;state.add_log(f" {defender.name} –≤–∏–ø—É—Å–∫–∞—î **{c.name}**!")&#96;
- - –†—è–¥–æ–∫ 327: &#96;state.add_log(f"üí® {attacker.name} –∞—Ç–∞–∫—É—î: **{hit_roll}** (AC {card_def.ac}) -&gt; –ü—Ä–æ–º–∞—Ö!")&#96;
- 
- **–†—ñ—à–µ–Ω–Ω—è:** –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –µ–º–æ–¥–∑—ñ (–π–º–æ–≤—ñ—Ä–Ω–æ, &#96;üîÑ&#96; —Ç–∞ &#96;üí®&#96;).
+ ### 1. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ: –ï–º–æ–¥–∑—ñ –≤ –õ–æ–≥–∞—Ö
+ **–°—Ç–∞—Ç—É—Å:** –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
+ - –†—è–¥–æ–∫ 356: &#96;üîÑ&#96; –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
+ - –†—è–¥–æ–∫ 359: &#96;üí®&#96; –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
  
- ### 2. –û–ø—ñ—Ä (Resistance) –ù–µ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ &#96;resistance&#96; –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ &#96;CardState&#96;, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ &#96;execute_attack()&#96;.
- 
- **–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** –¢—ñ–ª—å–∫–∏ &#96;weakness&#96; –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è.
- 
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –æ–ø–æ—Ä—É, —è–∫–∞ –∑–º–µ–Ω—à—É—î —à–∫–æ–¥—É –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫.
- 
- ### 3. –í—ñ–¥—Å—É—Ç–Ω—ñ–π –ë–æ–Ω—É—Å –¥–æ –ü–æ–ø–∞–¥–∞–Ω–Ω—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** –£ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö –∫–æ–¥—É –∑–∞–∑–Ω–∞—á–µ–Ω–æ, —â–æ ATK –º–∞—î –¥–∞–≤–∞—Ç–∏ –±–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è, –∞–ª–µ –∑–∞—Ä–∞–∑ &#96;hit_roll = d20&#96; –±–µ–∑ –±–æ–Ω—É—Å—ñ–≤.
- 
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –±–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ ATK —Å—Ç–∞—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, &#96;ATK // 2&#96;).
+ ### 2. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ: –û–ø—ñ—Ä (Resistance) –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
+ **–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
+ - –û–ø—ñ—Ä —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –≤ &#96;execute_attack()&#96; (—Ä—è–¥–∫–∏ 327-334)
+ - –ü—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ –ø–ª–æ—Å–∫–µ –∑–º–µ–Ω—à–µ–Ω–Ω—è (&#96;reduction&#96;), —Ç–∞–∫ —ñ –º–Ω–æ–∂–Ω–∏–∫ (x0.5)
+ 
+ ### 3. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ: –ë–æ–Ω—É—Å –¥–æ –ü–æ–ø–∞–¥–∞–Ω–Ω—è –î–æ–¥–∞–Ω–æ
+ **–°—Ç–∞—Ç—É—Å:** –î–æ–¥–∞–Ω–æ –±–∞–∑–æ–≤–∏–π –±–æ–Ω—É—Å
+ - &#96;hit_roll = d20 + 2&#96; (—Ä—è–¥–æ–∫ 297)
+ - –ë–∞–∑–æ–≤–∏–π –±–æ–Ω—É—Å –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ +2
+ 
+ **–ú–∞–π–±—É—Ç–Ω—î –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:** –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±–æ–Ω—É—Å –≤—ñ–¥ ATK —Å—Ç–∞—Ç—ñ –¥–ª—è –±—ñ–ª—å—à–æ—ó –≥–ª–∏–±–∏–Ω–∏.
  
- ### 4. –ù–µ –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –°—Ç–∞–Ω –ê—Ç–∞–∫—É—é—á–æ—ó –ö–∞—Ä—Ç–∫–∏
- **–ü—Ä–æ–±–ª–µ–º–∞:** –£ &#96;execute_attack()&#96; –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —á–∏ –Ω–µ –∑–Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∞ –∞—Ç–∞–∫—É—é—á–∞ –∫–∞—Ä—Ç–∫–∞ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ—é.
- 
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É &#96;if card_atk.is_fainted: return&#96;.
- 
- ### 5. –ù–µ–ø–æ–≤–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ç–∞—Ç—É—Å–Ω–∏—Ö –ï—Ñ–µ–∫—Ç—ñ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞:** –¢—ñ–ª—å–∫–∏ BURNED, POISONED —Ç–∞ FROZEN —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ. PARALYZED, CONFUSED —Ç–∞ ASLEEP –Ω–µ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è.
- 
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –¥–ª—è –≤—Å—ñ—Ö —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤.
+ ### 4. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –°—Ç–∞–Ω—É –ê—Ç–∞–∫—É—é—á–æ—ó –ö–∞—Ä—Ç–∫–∏
+ **–°—Ç–∞—Ç—É—Å:** –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É
+ - –†—è–¥–∫–∏ 263-265: –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è &#96;card_atk.is_fainted&#96; –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ—é
+ 
+ ### 5. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ: –°—Ç–∞—Ç—É—Å–Ω—ñ –ï—Ñ–µ–∫—Ç–∏ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
+ **–°—Ç–∞—Ç—É—Å:** –í—Å—ñ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
+ - BURNED, POISONED, FROZEN, ASLEEP: –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –≤ &#96;resolve_status_effects()&#96;
+ - PARALYZED, CONFUSED: –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è –≤ &#96;execute_attack()&#96;
  
  ### 6. –ü–æ—Ä—è–¥–æ–∫ –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –°—Ç–∞—Ç—É—Å–Ω–∏—Ö –ï—Ñ–µ–∫—Ç—ñ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞:** –£ &#96;handle_battle_action()&#96; —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è &#96;next_turn()&#96;, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–æ–Ω–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è, –∞ –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —Ö—Ç–æ —â–æ–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏–≤ —Ö—ñ–¥.
+ **–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** –°—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è &#96;next_turn()&#96;, —Ç–æ–±—Ç–æ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è.
  
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥—ñ–∫—É, —â–æ–± —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞–ª–∏—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É –≥—Ä–∞–≤—Ü—è, –ø–µ—Ä–µ–¥ –π–æ–≥–æ –¥—ñ—è–º–∏.
+ **–û—Ü—ñ–Ω–∫–∞:** –¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ - —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –º–∞—é—Ç—å –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É –≥—Ä–∞–≤—Ü—è, –ø–µ—Ä–µ–¥ –π–æ–≥–æ –¥—ñ—è–º–∏. –¶–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ–π –ª–æ–≥—ñ—Ü—ñ –ø–æ–∫—Ä–æ–∫–æ–≤–∏—Ö —ñ–≥–æ—Ä.
  
  ### 7. –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –Ω–∞ –ö–æ–∂–µ–Ω –†–∞—É–Ω–¥
  **–ü—Ä–æ–±–ª–µ–º–∞:** –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –ø–æ—á–∞—Ç–∫—É –±–æ—é. –£ D&amp;D —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥.
  
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥ –¥–ª—è –±—ñ–ª—å—à–æ—ó –¥–∏–Ω–∞–º—ñ—á–Ω–æ—Å—Ç—ñ.
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥ –¥–ª—è –±—ñ–ª—å—à–æ—ó –¥–∏–Ω–∞–º—ñ—á–Ω–æ—Å—Ç—ñ. –ó–∞—Ä–∞–∑ —Ü–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∞–ª–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è–º.
+ 
+ ### 8. –ú–æ–∂–ª–∏–≤–∞ –ü—Ä–æ–±–ª–µ–º–∞: –í–∏—Ç—Ä–∞—Ç–∞ –ï–Ω–µ—Ä–≥—ñ—ó –ø—Ä–∏ –°—Ç–∞—Ç—É—Å–Ω–∏—Ö –ï—Ñ–µ–∫—Ç–∞—Ö
+ **–û–ø–∏—Å:** –ü—Ä–∏ CONFUSED —Ç–∞ PARALYZED –µ–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∞—Ç–∞–∫–∞ –Ω–µ –≤—ñ–¥–±—É–ª–∞—Å—è.
+ 
+ **–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–∞–≤–º–∏—Å–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º (–µ–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –Ω–∞ —Å–ø—Ä–æ–±—É), –∞–ª–µ –º–æ–∂–µ –∑–¥–∞–≤–∞—Ç–∏—Å—è –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∏–º –¥–ª—è –≥—Ä–∞–≤—Ü—ñ–≤.
+ 
+ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó, —è–∫—â–æ –∞—Ç–∞–∫–∞ –±—É–ª–∞ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞ —Å—Ç–∞—Ç—É—Å–Ω–∏–º –µ—Ñ–µ–∫—Ç–æ–º, –∞–±–æ –∑–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î –¥–ª—è –±–∞–ª–∞–Ω—Å—É.
  
  ## –ú–∞–π–±—É—Ç–Ω—ñ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 6, lines removed: 4

```diff
@@ -349,11 +349,13 @@
  ## –ú–∞–π–±—É—Ç–Ω—ñ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è
  
- 1. **–°–∏—Å—Ç–µ–º–∞ –û–ø–æ—Ä—É:** –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–º–µ–Ω—à–µ–Ω–Ω—è —à–∫–æ–¥–∏ –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞—Ç–∞–∫
- 2. **–ë–æ–Ω—É—Å –¥–æ –ü–æ–ø–∞–¥–∞–Ω–Ω—è:** –î–æ–¥–∞—Ç–∏ –±–æ–Ω—É—Å –≤—ñ–¥ ATK —Å—Ç–∞—Ç—ñ
- 3. **–ü–æ–≤–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ç–∞—Ç—É—Å—ñ–≤:** –î–æ–¥–∞—Ç–∏ –≤—Å—ñ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏
+ 1. ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –û–ø–æ—Ä—É:** –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
+ 2. **–ë–æ–Ω—É—Å –¥–æ –ü–æ–ø–∞–¥–∞–Ω–Ω—è –≤—ñ–¥ ATK:** –î–æ–¥–∞—Ç–∏ –±–æ–Ω—É—Å –≤—ñ–¥ ATK —Å—Ç–∞—Ç—ñ (–∑–∞—Ä–∞–∑ —î –±–∞–∑–æ–≤–∏–π +2)
+ 3. ‚úÖ **–ü–æ–≤–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ç–∞—Ç—É—Å—ñ–≤:** –í—Å—ñ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
  4. **–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ê—Ç–∞–∫–∏:** –ê—Ç–∞–∫–∏, —â–æ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å AC (—Å—Ç–∞—Ç—É—Å–Ω—ñ –∞—Ç–∞–∫–∏)
- 5. **–ë–æ–Ω—É—Å –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –±–æ–Ω—É—Å–∏ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –∑ –∫–∞—Ä—Ç–æ–∫
+ 5. **–ë–æ–Ω—É—Å –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –±–æ–Ω—É—Å–∏ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏ –∑ –∫–∞—Ä—Ç–æ–∫ (–∑–∞—Ä–∞–∑ –∑–∞–≤–∂–¥–∏ 0)
  6. **–ê–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ –ï—Ñ–µ–∫—Ç–∏:** –í—ñ–∑—É–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
  7. **–†–µ–∂–∏–º –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è:** –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞ –±–æ—î–º –¥–ª—è —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
+ 8. **–Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –Ω–∞ –ö–æ–∂–µ–Ω –†–∞—É–Ω–¥:** –í–∏–∑–Ω–∞—á–∞—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤—É –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥ –∑–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—É
+ 9. **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –õ–æ–≥—ñ–∫–∏ –ï–Ω–µ—Ä–≥—ñ—ó:** –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó –ø—Ä–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—ñ –∞—Ç–∞–∫–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
  
  ## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –î–µ—Ç–∞–ª—ñ
```

</details>

</tool-use>

---



---


–û–Ω–æ–≤–ª—é—é —Ä–æ–∑–¥—ñ–ª –ø—Ä–æ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: /mnt/ssd1/repos/pomyyka-the-game/docs/mechanics/battle-system.md</summary>

**Chunk 1**
Lines added: 16, lines removed: 11

```diff
@@ -176,21 +176,26 @@
  
  3. **FROZEN (–ó–∞–º–æ—Ä–æ–∂–µ–Ω–∏–π)** ‚ùÑÔ∏è
-    - –ü—Ä–æ–ø—É—Å–∫–∞—î —Ö—ñ–¥
+    - –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç—Ü—ñ (–º–æ–∂–µ –∑–∞–≤–∞–∂–∞—Ç–∏ –¥—ñ—è–º)
     - 20% —à–∞–Ω—Å —Ä–æ–∑—Ç–∞–Ω—É—Ç–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É
     - –Ø–∫—â–æ —Ä–æ–∑—Ç–∞–Ω—É–≤, –µ—Ñ–µ–∫—Ç –∑–Ω–∏–∫–∞—î
  
- 4. **PARALYZED (–ü–∞—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π)**
-    - 50% —à–∞–Ω—Å –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ö—ñ–¥
-    - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ 4. **PARALYZED (–ü–∞—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π)** ‚ö°
+    - –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∞—Ç–∞–∫–∏
+    - 25% —à–∞–Ω—Å, —â–æ –∞—Ç–∞–∫–∞ –Ω–µ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è (–µ–Ω–µ—Ä–≥—ñ—è –≤—Å–µ –æ–¥–Ω–æ –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è)
+    - –ï—Ñ–µ–∫—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç—Ü—ñ
  
- 5. **CONFUSED (–ó–±–µ–Ω—Ç–µ–∂–µ–Ω–∏–π)**
-    - 30% —à–∞–Ω—Å –∑–∞–≤–¥–∞—Ç–∏ —à–∫–æ–¥–∏ —Å–æ–±—ñ
-    - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ 5. **CONFUSED (–ó–±–µ–Ω—Ç–µ–∂–µ–Ω–∏–π)** üåÄ
+    - –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∞—Ç–∞–∫–∏
+    - 33% —à–∞–Ω—Å –∑–∞–≤–¥–∞—Ç–∏ —Å–æ–±—ñ 5 —à–∫–æ–¥–∏ –∑–∞–º—ñ—Å—Ç—å –∞—Ç–∞–∫–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
+    - –ï–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è, –∞—Ç–∞–∫–∞ –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
+    - –ï—Ñ–µ–∫—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç—Ü—ñ
  
- 6. **ASLEEP (–°–ø–∏—Ç—å)**
-    - –ü—Ä–æ–ø—É—Å–∫–∞—î —Ö—ñ–¥
-    - –ó–∞—Ä–∞–∑ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ
+ 6. **ASLEEP (–°–ø–∏—Ç—å)** üí§
+    - –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É
+    - 33% —à–∞–Ω—Å –ø—Ä–æ–∫–∏–Ω—É—Ç–∏—Å—è
+    - –Ø–∫—â–æ —Å–ø–∏—Ç—å, –≥—Ä–∞–≤–µ—Ü—å –Ω–µ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥—ñ—ó (–µ–Ω–µ—Ä–≥—ñ—è –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ 0)
+    - –Ø–∫—â–æ –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è, –µ—Ñ–µ–∫—Ç –∑–Ω–∏–∫–∞—î
  
- **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ó–∞—Ä–∞–∑ —Ç—ñ–ª—å–∫–∏ BURNED, POISONED —Ç–∞ FROZEN —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤ &#96;resolve_status_effects()&#96;.
+ **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –í—Å—ñ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ. BURNED, POISONED, FROZEN —Ç–∞ ASLEEP –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –≤ &#96;resolve_status_effects()&#96;, –∞ PARALYZED —Ç–∞ CONFUSED –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è –≤ &#96;execute_attack()&#96;.
  
  ### –ó–∞–º—ñ–Ω–∞ –ö–∞—Ä—Ç–æ–∫
```

</details>

</tool-use>

---



---


–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —Å–∏—Å—Ç–µ–º—É –±–æ—é. –û—Å—å —â–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

1. –ï–º–æ–¥–∑—ñ –≤ –ª–æ–≥–∞—Ö ‚Äî –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
   - –†—è–¥–æ–∫ 356: `üîÑ` –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
   - –†—è–¥–æ–∫ 359: `üí®` –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è

2. –û–ø—ñ—Ä (Resistance) ‚Äî —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
   - –†—è–¥–∫–∏ 327-334: –æ–ø—ñ—Ä –ø—Ä–∞—Ü—é—î
   - –ü—ñ–¥—Ç—Ä–∏–º—É—î –ø–ª–æ—Å–∫–µ –∑–º–µ–Ω—à–µ–Ω–Ω—è (`reduction`) —Ç–∞ –º–Ω–æ–∂–Ω–∏–∫ (x0.5)

3. –ë–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è ‚Äî –¥–æ–¥–∞–Ω–æ
   - –†—è–¥–æ–∫ 297: `hit_roll = d20 + 2` (–±–∞–∑–æ–≤–∏–π –±–æ–Ω—É—Å +2)

4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É –∞—Ç–∞–∫—É—é—á–æ—ó –∫–∞—Ä—Ç–∫–∏ ‚Äî –¥–æ–¥–∞–Ω–æ
   - –†—è–¥–∫–∏ 263-265: –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ `card_atk.is_fainted` –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ—é

5. –°—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ ‚Äî —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
   - PARALYZED: –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –ø—Ä–∏ –∞—Ç–∞—Ü—ñ (25% —à–∞–Ω—Å –±–ª–æ–∫—É–≤–∞–Ω–Ω—è)
   - CONFUSED: –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –ø—Ä–∏ –∞—Ç–∞—Ü—ñ (33% —à–∞–Ω—Å –∑–∞–≤–¥–∞—Ç–∏ —Å–æ–±—ñ —à–∫–æ–¥–∏)
   - ASLEEP: –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ö–æ–¥—É (33% —à–∞–Ω—Å –ø—Ä–æ–∫–∏–Ω—É—Ç–∏—Å—è)

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ. –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:
- –í—Å—ñ —Å—Ç–∞—Ç—É—Å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏
- –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ—Ä—É
- –ë–∞–∑–æ–≤–∏–π –±–æ–Ω—É—Å –¥–æ –ø–æ–ø–∞–¥–∞–Ω–Ω—è
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –±–µ–∑–ø–µ–∫–∏

## –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. –í–∏—Ç—Ä–∞—Ç–∞ –µ–Ω–µ—Ä–≥—ñ—ó –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç–∞—Ö: –ø—Ä–∏ CONFUSED/PARALYZED –µ–Ω–µ—Ä–≥—ñ—è –≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∞—Ç–∞–∫–∞ –Ω–µ –≤—ñ–¥–±—É–ª–∞—Å—è. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–∞–≤–º–∏—Å–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º, –∞–ª–µ –≤–∞—Ä—Ç–æ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏.

2. –ë–æ–Ω—É—Å —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏: –∑–∞—Ä–∞–∑ –∑–∞–≤–∂–¥–∏ 0; –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –∫–∞—Ä—Ç–æ–∫.

3. –Ü–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞ –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥: –∑–∞—Ä–∞–∑ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑; –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Ä–∞—É–Ω–¥ –¥–ª—è –±—ñ–ª—å—à–æ—ó –¥–∏–Ω–∞–º—ñ–∫–∏.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –æ–Ω–æ–≤–ª–µ–Ω–æ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —É—Å—ñ—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

---

